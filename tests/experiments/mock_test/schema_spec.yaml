schema_type: "nested"
container_name: "commodities"
variables:
  - name: "commodity_type"
    description: "Type of commodity mentioned"
    data_type: "string"
    required: true
    allowed_values: ["oil", "gas", "copper", "gold", "silver", "steel", "aluminum"]
  
  - name: "price_mention"
    description: "Whether a specific price is mentioned"
    data_type: "boolean"
    required: false
  
  - name: "price_value"
    description: "Numeric price value if mentioned"
    data_type: "number"
    required: false
  
  - name: "price_unit"
    description: "Unit of the price (e.g., barrel, ton, MMBtu)"
    data_type: "string"
    required: false
  
  - name: "expectation_type"
    description: "Type of price expectation mentioned"
    data_type: "string"
    required: false
    allowed_values: ["forecast", "guidance", "estimate", "projection", "outlook"]
  
  - name: "company_mention"
    description: "Company names mentioned in relation to commodities"
    data_type: "string"
    required: false

prompt_template: |
  You're assisting a finance professor who expects meticulous and reliable results.

  Extract commodity price information from the following text:

  {variables}

  Text to analyze:
  {text}

  Focus on:
  - Specific commodity types (oil, gas, metals, etc.)
  - Price mentions and values
  - Price expectations and forecasts
  - Companies mentioned in commodity context
  - Units of measurement (barrel, ton, MMBtu, etc.)

  For each commodity mentioned, create a separate entry with all relevant details.
  IMPORTANT: If a field is not mentioned in the text, leave it as null/None rather than guessing. 